{"uid":"b421f26a687d3ec3","name":"Test Admin Agent Edit","fullName":"test_cases.test_agent.TestAgentManagement#test_edit_admin_agent","historyId":"398b8ccba1d43478bb443a9fb65225bb","time":{"start":1727247612191,"stop":1727247612191,"duration":0},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"autonomous_agent_api","time":{"start":1727247610348,"stop":1727247610348,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"admin_login_response","time":{"start":1727247610992,"stop":1727247611176,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_template_fixture","time":{"start":1727247611176,"stop":1727247611371,"duration":195},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"admin_login_cookie","time":{"start":1727247611176,"stop":1727247611176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"edit_template_fixture","time":{"start":1727247611371,"stop":1727247611574,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_admin_agent_fixture","time":{"start":1727247611574,"stop":1727247611776,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"edit_admin_agent_fixture","time":{"start":1727247611971,"stop":1727247612190,"duration":219},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"659fc7e1abd5c079","name":"stdout","source":"659fc7e1abd5c079.txt","type":"text/plain","size":709}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"autonomous_agent_api::0","time":{"start":1727248099411,"stop":1727248099411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Admin Agent Edit"},{"name":"parentSuite","value":"Agent Management"},{"name":"suite","value":"test_agent"},{"name":"subSuite","value":"TestAgentManagement"},{"name":"host","value":"fv-az1247-944"},{"name":"thread","value":"2018-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_agent"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":9,"broken":0,"skipped":0,"passed":31,"unknown":0,"total":40},"items":[{"uid":"fd7d99f6035ac603","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/38//#testresult/fd7d99f6035ac603","status":"passed","time":{"start":1727239607320,"stop":1727239607320,"duration":0}},{"uid":"db8d19965790f6f5","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/37//#testresult/db8d19965790f6f5","status":"passed","time":{"start":1727184826162,"stop":1727184826162,"duration":0}},{"uid":"d62f828552a679b2","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/36//#testresult/d62f828552a679b2","status":"passed","time":{"start":1727177345360,"stop":1727177345360,"duration":0}},{"uid":"9dc3b10cdeb18210","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/35//#testresult/9dc3b10cdeb18210","status":"passed","time":{"start":1727168668437,"stop":1727168668437,"duration":0}},{"uid":"776b5095722280c2","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/34//#testresult/776b5095722280c2","status":"passed","time":{"start":1727152015996,"stop":1727152015996,"duration":0}},{"uid":"cfce5326e89de474","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/34//#testresult/cfce5326e89de474","status":"passed","time":{"start":1727148247007,"stop":1727148247008,"duration":1}},{"uid":"4ebb9b5bb0e00a10","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/34//#testresult/4ebb9b5bb0e00a10","status":"passed","time":{"start":1727087529710,"stop":1727087529710,"duration":0}},{"uid":"ea1ea465585d51ff","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/33//#testresult/ea1ea465585d51ff","status":"failed","statusDetails":"AssertionError: Expected POST /templates to succeed but got statusCode: 403 : body: \"Forbidden Request\"","time":{"start":1726811571597,"stop":1726811571597,"duration":0}},{"uid":"7b5a4b0d77194931","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/32//#testresult/7b5a4b0d77194931","status":"failed","statusDetails":"AssertionError: Expected POST /templates to succeed but got statusCode: 403 : body: \"Forbidden Request\"","time":{"start":1726738987736,"stop":1726738987736,"duration":0}},{"uid":"9752ebbf1f79ed12","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/31//#testresult/9752ebbf1f79ed12","status":"failed","statusDetails":"AssertionError: Expected POST /templates to succeed but got statusCode: 403 : body: \"Forbidden Request\"","time":{"start":1726730682588,"stop":1726730682588,"duration":0}},{"uid":"cb35ec35359f2c5f","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/30//#testresult/cb35ec35359f2c5f","status":"passed","time":{"start":1726730179080,"stop":1726730179081,"duration":1}},{"uid":"f1173806f1a79e1a","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/29//#testresult/f1173806f1a79e1a","status":"passed","time":{"start":1726655153489,"stop":1726655153489,"duration":0}},{"uid":"53e509da9fbc8b01","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/28//#testresult/53e509da9fbc8b01","status":"passed","time":{"start":1726571908952,"stop":1726571908952,"duration":0}},{"uid":"31aac9d305611143","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/27//#testresult/31aac9d305611143","status":"passed","time":{"start":1726570708773,"stop":1726570708774,"duration":1}},{"uid":"19696f41a0efea67","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/26//#testresult/19696f41a0efea67","status":"passed","time":{"start":1726555168682,"stop":1726555168683,"duration":1}},{"uid":"89334da42a4c17a3","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/25//#testresult/89334da42a4c17a3","status":"passed","time":{"start":1726554198090,"stop":1726554198090,"duration":0}},{"uid":"bc9fdfa5e7da4198","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/24//#testresult/bc9fdfa5e7da4198","status":"passed","time":{"start":1726551664463,"stop":1726551664463,"duration":0}},{"uid":"b1da6c3ce7425df9","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/23//#testresult/b1da6c3ce7425df9","status":"passed","time":{"start":1726475094270,"stop":1726475094271,"duration":1}},{"uid":"347825b31083fd21","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/22//#testresult/347825b31083fd21","status":"passed","time":{"start":1726460970054,"stop":1726460970054,"duration":0}},{"uid":"fea0fc9047834e3e","reportUrl":"https://cardanoapi.github.io/autonomous-agents/test_backend_allure_report/19//#testresult/fea0fc9047834e3e","status":"failed","statusDetails":"AssertionError: Expected PUT /agents/0016a154-7e9f-4729-a27d-fce73da9fdbc to succeed but got statusCode: 500 : body: Traceback (most recent call last):\n  File \"/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/usr/local/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/usr/local/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.12/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.12/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.12/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/fastapi/routing.py\", line 241, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/fastapi/routing.py\", line 167, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/api/backend/backend/app/controllers/agent_router.py\", line 48, in update_agent\n    updated_agent = await self.agent_service.update_agent(agent_id, agent_data, userAddress=user.address)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/api/backend/backend/app/services/agent_service.py\", line 100, in update_agent\n    if existing_agent.instance < agent_data.instance:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '<' not supported between instances of 'int' and 'NoneType'","time":{"start":1726056110129,"stop":1726056110129,"duration":0}}]},"tags":[]},"source":"b421f26a687d3ec3.json","parameterValues":[]}